import{a}from"./chunk-HQZPPOAD.js";import{d as l}from"./chunk-H5QP34LL.js";import{a as d}from"./chunk-F4MG76PW.js";import{T as c,Y as o,cb as h,fa as n}from"./chunk-JTW2HSPL.js";var m=(()=>{let r=class r{transform(t,i){return t.filter(e=>e.title.toLowerCase().includes(i.toLowerCase()))}};r.\u0275fac=function(i){return new(i||r)},r.\u0275pipe=n({name:"filter",type:r,pure:!0,standalone:!0});let s=r;return s})();var g=(()=>{let r=class r{constructor(t,i,e){this._ProductService=t,this._CartService=i,this._WishlistService=e,this.productList=h([]),this.isLoding=!1,this.wishlistProductIds=[]}fetchProducts(t=""){return this._ProductService.getAllProducts().subscribe({next:i=>{this.productList.set(i.data)},error:i=>{console.error("Error fetching products: ",i)}})}addProductToCart(t){return this.isLoding=!0,this._CartService.AddProducttoCart(t).subscribe({next:i=>{this.isLoding=!1,this._CartService.cartItem.next(i.numOfCartItems)},error:i=>{this.isLoding=!1,console.error("Error adding product to cart: ",i)}})}fetchWishlist(){return this._WishlistService.GetLoggedUserWishlist().subscribe({next:t=>{this.wishlistProductIds=t.data.map(i=>i.id)},error:t=>{console.error("Error fetching wishlist: ",t)}})}toggleWishlist(t){this.isProductInWishlist(t)?this.removeFromWishlist(t):this.addToWishlist(t)}isProductInWishlist(t){return this.wishlistProductIds.includes(t)}addToWishlist(t){return this._WishlistService.AddProductToWishlist(t).subscribe({next:i=>{this.wishlistProductIds.push(t)},error:i=>{console.error("Error adding product to wishlist: ",i)}})}removeFromWishlist(t){return this._WishlistService.RemoveProductFromWishlist(t).subscribe({next:i=>{this.wishlistProductIds=this.wishlistProductIds.filter(e=>e!==t)},error:i=>{console.error("Error removing product from wishlist: ",i)}})}};r.\u0275fac=function(i){return new(i||r)(o(l),o(d),o(a))},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{m as a,g as b};
